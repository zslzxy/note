# 工作内容

- 2019.07.08   公司集合，领取电脑，跑了一趟客户现场。

- 2019.07.09   上午，安装电脑；下午，在陈东哥的带领下，了解客户业务，认识软件开发流程。

> 软件开发流程：
>
> - 需求分析
> - 原型设计（勾勒整个项目的静态页面设计，生成静态页面）
> - 概要设计（数据库设计）
> - 项目评审（团队进行项目需求评审）
> - 项目开发
> - 项目测试
> - 项目部署、运维

- 2019.07.10   学习jd业务，学习禁毒业务系统流程、数据分析；规划职业方向，学习使用Struts2框架。
- 2019.07.11  使用Spring+Struts2+Mybatis+jQuery搭建一个购物订单生成系统的WEB项目。

> **购物订单生成系统：**
>
> ![1562858977091](assets/1562858977091.png)
>
> **遇见问题：**
>
> - jQuery的each方法，
>   - `return false`相当于for循环中的 `break`方法； 
>   - `return true`相当于for循环中的`continue`方法；
> - 在js中创建button按钮，例如 `<button onClick='delete()'>删除</button>`，如果直接在delete()方法中调用 this 关键字，则代表的是当前window对象。
> - MySQL数据库中的关键字有 `order`。
> - 多表连接查询，可以使用 join 查询操作。

- 2019.07.12  修改前一天做的demo的业务逻辑，完善逻辑结构。
- 2019.07.13  根据学习计划安排，深入学习HTML DOM操作，继续学习JavaScript语言。
- 2019.07.14  
  - 学习JavaScript剩余文档，深入了解了浏览器BOM（Browser Object Model），了解document、location、screen等属性的作用。
  - 学习WebService。主要是使用 Apache CFX的WebService服务的产品，整合Spring框架技术，创建客户端、服务端，用于分布式服务的架构。

  > **遇见问题：**
  >
  > ​    在使用WebService的时候，接口对象的路径、名称等都不能够发生改变，否则服务无法引用。
  >
  > **与微服务分布式比较：**
  >
  > - WebService是分布式的一种落地实现，拥有客户端与服务端，客户端引用服务端暴露的接口，得到对应的json/xml数据。
  > - 微服务架构也是一种分布式架构，它是对服务进行拆分，将不同的服务创建不同的微服务，服务之间使用RPC、HTTP等协议进行通信。微服务架构对服务的拆分比WebService更加细致，颗粒化。服务治理更加完善。

2019.07.22 - 2019.07.24  了解新项目：取证交易分析。主要包括项目的数据库设计、项目前端界面编写方式。深入使用OASIS框架搭建页面。

2019.07.23 ~ 2019.08.01  开发取证交易分析项目。前端界面是采用OASIS框架整合jQuery实现前端界面；后台采用的是原有的项目架构，主要是Struts2框架，操作数据库采用的是avatar框架技术。实现的功能包括：

- 取证交易分析：根据账号获取该账号的交易次数、最早交易时间、最近交易时间、账号姓名等数据展示。
- 共同交易人分析：用户选择或者输入多个需要进行分析的账号，查询交易信息表中的数据，查看这些账号存在的共同交易人。
- 联系人查询：根据聊天记录表，查询聊天信息。
- xd人员资金去向分析：共同交易人分析存入到xd资金表和吸毒资金统计表中以后，进行查询操作并展示。

2019.08.12 ~ 2019.08.16  任务中心ID改造。 根据西安对项目的要求，需要将禁毒系统中的主键生成策略更改为统一的策略。主要是将之前代码中使用的MySQL的自增方式、Oracle序列生成方式，更改为IDGenetor.nextId()生成long类型的id。

2019.08.19 ~ 2019.08.20 去刑警总队的客户中心，对任务中心的id改造进行测试工作，主要是进行黑盒测试，通过界面进行正确、异常等数据传递测试，并修改对应的bug。根据需求，修改数据库表结构，并修改bpm文件。

2019.08.21  当天工作主要是在客户中心将项目进行打包、部署上线，维护系统正常运行。

2019.08.22~2019.08.23 两江新区需求优化，熟悉之前两江新区的项目代码与业务，将客户提出的新的需求整理，融会贯通。设计数据库表结构，新增反诈Excel数据文件导入记录表，连通文件存储服务器fastdfs，上传反诈Excel文件，并将其存放至fastdfs文件存储服务器中进行保存。

2019.08.24 主要是实现反诈Excel数据导入功能，以及在文件存储服务器中上传文件、下载文件、删除文件等功能。

2019.08.26 ~ 2019.08.30 学习Docker容器技术，深入了解该项新技术的特性及其使用方式；

2019.09.02 ~ 2019.09.04  公司安排后面将要到 治安 部门，从新学习对应的技术文档等内容；

2019.09.06 ~ 2019.09.07  jd首页新界面确定成功，完成开发禁毒首页新界面Header模块的开发，主要包括：

- 头部左边首页logo整合、并排展示
- 头部中间搜索框
- 头部右边个人信息的展示

2019.09.09  jd首页左边栏Menu数据的展示，该展示栏是一个动态二级菜单展示效果图，采用的是数据库获取数据，并填充到界面左边栏中；主要包括

- 个人收藏信息的展示
- 导航栏以及而菜单栏层级展示功能
- 系统工具栏

2019.09.10  jd首页统计栏模块开发，主要是根据日期选择，返回对应的统计信息；

2019.09.11  到重庆市公安局接手新项目，项目使用的是公司提供的开发工具，熟练使用该开发工具，并能在此基础之上完成开发；

2019.09.12 ~ 2019.09.13  进度首页困难的模块，需要对重庆市地图数据上图，获取重庆市各个区域的经纬度，并将其展示到一张从psd文件中扣取出来的png图片上进行定制化展示；

- 思路一： 开始的思路是：选择渝中区作为中心点，在后台程序中使用经纬度计算两点之间的距离，再根据png图片与重庆市地图缩放比例得到两点之间的偏移距离，从而实现在地图上面描点；
  - 问题一：计算进行距离缩放比例的计算，由于png图片的不规范，实现困难；
  - 问题二：代码冗余，可扩展性低；
  - 最终选择放弃该思路；
- 思路二： 使用Apache ECharts来实现地图功能，主要是用ECharts中封装的chongqing.js来绘制重庆地图；
  - 问题一：自己与周围的人都没有接触过ECharts，学习成本高，开发进度慢；
    - 解决方案：多写注释，尽量简洁；
  - 问题二：ECharts绘制的地图与重庆市地图背景无法相匹配，难以使其重叠在一起；
    - 解决方案：使用ECharts的缩放功能，完成图片的完美匹配；
  - 问题三：ECharts绘制的地图，并使用自定义的logo进行描点，重庆市市区地图多个描点重叠；
    - 解决方案：获取重庆市地图的经纬度，在js文件中进行写死，并适当的修改经纬度位置以及logo大小，确保两个logo之间没有出现重叠效果；